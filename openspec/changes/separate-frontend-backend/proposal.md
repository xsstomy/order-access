## Why
当前单体架构存在严重的技术债务和扩展限制。前后端紧密耦合导致开发效率低下，无法独立部署和扩展，也限制了技术现代化的可能性。为了提升开发体验、系统可维护性和未来扩展能力，必须进行前后端分离改造。

## What Changes
- 移除服务器的静态文件服务功能，专注API服务
- 将前端改造为独立的前端应用
- 增强API接口，提供前端所需的数据接口
- 实现前后端独立的部署和开发环境
- 配置适当的CORS和安全策略
- 更新部署架构支持独立扩展

## 当前问题

### 架构限制
1. **紧耦合**: 前端HTML/CSS/JS与后端服务器紧密集成，无法独立开发部署
2. **开发效率低**: 前端修改需要重启后端服务，开发体验不佳
3. **部署不灵活**: 前后端必须部署在同一服务器和端口上
4. **扩展性受限**: 无法针对前端和后端进行独立的性能优化和扩展
5. **技术栈固化**: 前端被限制在传统的HTML/CSS/JS，无法使用现代前端框架

### 具体技术债务
- 服务器直接提供静态文件服务 (`express.static`)
- 使用 `sendFile()` 直接返回HTML页面
- 前端资源与API端点混合在同一域名下
- 无法实现前后端独立部署和版本管理

## 建议方案

### 核心变更
1. **API优先**: 将后端改造为纯RESTful API服务
2. **前端独立**: 将前端改造为独立的前端应用
3. **通信标准化**: 使用标准HTTP/JSON进行前后端通信
4. **部署解耦**: 支持前后端独立部署和域名分离

### 技术架构
- **后端**: 保持现有Node.js + Express架构，专注API服务
- **前端**: 原生HTML/CSS/JavaScript，简单直接的实现
- **通信**: RESTful API + JSON数据格式
- **部署**: 简单部署方式，保持现有部署架构

## 预期收益

### 开发体验提升
- 前后端可并行开发，提升开发效率
- 独立的热重载和调试环境
- 更好的代码组织和模块化

### 运维优势
- 前后端可独立部署和扩展
- 支持CDN加速前端资源
- 更容易实现负载均衡和高可用

### 技术现代化
- 支持现代前端开发工具链
- 更好的类型安全和代码质量
- 便于后续引入微服务架构

## 风险评估

### 技术风险
- **中等**: 需要重构现有前端代码适配API调用
- **低**: 后端API逻辑基本保持不变

### 兼容性风险
- **低**: 保持现有API端点兼容性
- **中等**: 需要处理CORS跨域问题

### 实施风险
- **中等**: 需要更新部署配置和文档
- **低**: 现有数据和业务逻辑无需变更

## 实施策略

采用渐进式迁移策略：
1. **阶段1**: 保持现有功能，新增API接口
2. **阶段2**: 前端改造为调用API的应用
3. **阶段3**: 移除服务器静态文件服务功能
4. **阶段4**: 优化部署配置和监控

这种策略确保在整个迁移过程中系统始终保持可用性。

## Impact
- Affected specs: 新增 api-separation, frontend-app 两个能力规格
- Affected code: src/server/app.js, public/index.html, public/main.js, public/style.css
- Database: 无需变更，保持现有数据结构
- Deployment: 简单部署配置调整，保持现有部署方式